## 上下文

`/team` 页面当前为占位页。项目为 Vue 3 + TypeScript + Vite，使用 Pinia 作为状态管理，并已在鉴权场景中使用 `localStorage`（见 `src/stores/auth.ts` 与其测试）。本变更希望以最小复杂度提供“人员管理”的 CRUD 工作流，并满足可测试、可维护与基础隐私要求。

## 目标 / 非目标

### 目标

- 提供人员管理表格，支持 CRUD
- 字段覆盖：姓名、性别、身份证号、职位、所属部门、职级
- 在无后端场景可用（使用前端 mock 数据）
- 身份证号必须唯一
- 性别/所属部门/职级使用固定枚举

### 非目标

- 后端 API、服务端分页、复杂权限体系、批量导入导出
- 本地持久化（刷新后恢复）与跨端同步

## 决策

### 数据模型（建议）

- `Member` 最少包含：
  - `id`（内部唯一标识，用于更新/删除）
  - `name`、`gender`、`idCardNumber`、`jobTitle`、`department`、`level`
  - `createdAt`、`updatedAt`（可选，用于排序与审计）

### 数据存储与持久化（默认假设）

- 使用 Pinia store 管理列表与 CRUD
- 数据为前端 mock（可在 store 初始化时注入/生成）
- 未来如对接后端：保留 store API 形状不变，将 mock 数据替换为 API 调用

### 身份证号展示策略（已确认）

- 列表与表单均可展示完整身份证号（不做脱敏）
- 仍需在产品/安全层面确认是否存在合规要求（本变更仅按当前需求实现）

### 字段校验（已确认）

- 全部字段必填
- 身份证号必须唯一（同一列表内）
- 性别/所属部门/职级为固定枚举，仅允许选择枚举值
- 身份证号格式校验采用“最小可行校验”（长度/字符集）；如需要严格校验位算法，再补充

## 风险 / 权衡

- **隐私风险**：身份证号属于强敏感信息；不脱敏会增加旁观风险。若未来需要权限控制/脱敏/加密存储，应单独提案明确范围。
- **数据一致性**：mock 数据不具备持久化与跨设备同步能力；若未来需要协作，应迁移到后端。

## 迁移计划（到后端时）

- 定义与后端一致的数据模型与接口（list/create/update/delete）
- 将 mock 数据替换为 API，并保留兼容读取（一次性迁移，如需要）
- 增加错误处理与加载状态（失败可重试、部分失败提示）

## 待决问题

- 列表是否需要：搜索、分页、排序、字段筛选
- 部门/职级是否来自固定字典（下拉）还是自由输入
- 身份证号是否需要“查看完整”的显隐开关/权限控制（当前需求为“不需要脱敏”）
